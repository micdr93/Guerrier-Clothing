<!-- main-nav.html -->

<div class="d-none d-lg-block">
    <div class="collapse navbar-collapse" id="main-nav">

        <!-- Left/center nav items - changed mx-auto to me-auto -->
        <ul class="navbar-nav me-auto text-center">
            <a class="navbar-brand" href="{% url 'home' %}">GUERRIER</a>

            <!-- Clothing Dropdown -->
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle"
                   href="#"
                   id="clothing-link"
                   data-bs-toggle="dropdown"
                   aria-haspopup="true"
                   aria-expanded="false">
                    Clothing
                </a>
                <div class="dropdown-menu border-0" aria-labelledby="clothing-link">
                    <a href="{% url 'products' %}" class="dropdown-item">All Clothing</a>
                    <a href="{% url 'shirts_view' %}" class="dropdown-item">Shirts</a>
                    <a href="{% url 'hats_view' %}" class="dropdown-item">Hats</a>
                </div>
            </li>

            <!-- Homeware Dropdown -->
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle"
                   href="#"
                   id="homeware-link"
                   data-bs-toggle="dropdown"
                   aria-haspopup="true"
                   aria-expanded="false">
                    Homeware
                </a>
                <div class="dropdown-menu border-0" aria-labelledby="homeware-link">
                    <a class="dropdown-item" href="{% url 'mugs_view' %}">Mugs</a>
                    <a class="dropdown-item" href="{% url 'coasters_view' %}">Coasters</a>
                    <a class="dropdown-item" href="{% url 'skateboard_decks_view' %}">Skateboard Decks</a>
                </div>
            </li>
        </ul>

        <!-- Right side: search, wishlist, bag, account - removed ms-auto -->
        <ul class="navbar-nav text-center">

            <!-- Search bar -->
            <li class="nav-item me-3">
                <form class="d-flex" action="{% url 'products' %}" method="GET">
                    <input class="form-control me-2"
                           type="search"
                           name="q"
                           placeholder="Search"
                           aria-label="Search">
                    <button class="btn btn-outline-secondary" type="submit">
                        <i class="fas fa-search"></i>
                    </button>
                </form>
            </li>

            <!-- Wishlist icon -->
            <li class="nav-item me-3">
                <a class="nav-link" href="{% url 'wishlist:wishlist_home' %}" aria-label="Wishlist">
                    <i class="fa-regular fa-heart"></i>
                </a>
            </li>

            <!-- Cart / Bag icon -->
            <li class="nav-item me-3">
                <a class="nav-link" href="{% url 'bag:view_bag' %}" aria-label="Bag">
                    <i class="fas fa-shopping-cart"></i>
                </a>
            </li>

            <!-- Account icon -->
            <li class="nav-item dropdown me-3">
                {% if user.is_authenticated %}
                    <a class="nav-link dropdown-toggle"
                       href="#"
                       id="account-link"
                       data-bs-toggle="dropdown"
                       aria-haspopup="true"
                       aria-expanded="false">
                        <i class="fas fa-user"></i>
                    </a>
                    <div class="dropdown-menu border-0" aria-labelledby="account-link">
                        <a href="{% url 'profiles:home' %}" class="dropdown-item">My Profile</a>
                        <a href="{% url 'wishlist:wishlist_home' %}" class="dropdown-item">Wishlist</a>
                        <a href="{% url 'account_logout' %}" class="dropdown-item">Logout</a>
                    </div>
                {% else %}
                    <a class="nav-link" href="{% url 'account_login' %}" aria-label="Login">
                        <i class="fas fa-user"></i>
                    </a>
                {% endif %}
            </li>
        </ul>
    </div>
</div>
